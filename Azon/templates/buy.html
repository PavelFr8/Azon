<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/buy.css') }}">
</head>
<body class="d-flex align-items-center py-4 bg-body-tertiary">

<div class="card shirina" style="display: flex; margin: 50px auto;">
    <a href="/" style="margin: auto;"><img src="{{ url_for('static', filename='img/header/logo.png') }}" width="200px"></a>
    <h1 align="center">Оплата</h1>
    <div class="card-body">
        <h2 class="card-title">К оплате: {{ total_price }} ₽</h2>
            <br>
        {% if current_user.address == 'Не выбран' %}
        <a class="btn btn-danger fw-bold text-light" href="{{ url_for('address') }}">Адрес пункта выдачи: {{ current_user.address}}</a>
        {% else %}
        <a class="btn btn-success fw-bold text-light" href="{{ url_for('address') }}">Адрес пункта выдачи: {{ current_user.address}}</a>
        {% endif %}
        <br>
        <br>

        <div class="card kartochka" style="display: flex; border-radius: 20px; border-width: 4px; margin: auto">
            <form method="post">
            {{ form.hidden_tag() }}
            <h3 style="margin: 10px;">Карта</h3>
            <div class="form-floating" style="margin: 6% auto; width: 88%">
                {{ form.number(type="text", class="form-control", id="floatingInput", placeholder="Номер") }}
                <label for="floatingInput">Номер карты</label>
                {% for error in form.number.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ error }}
                    </div>
                {% endfor %}
            </div>
            <div style="display: flex; width: 100%;">
                <div class="form-floating" style="width: 33%; margin-right: 22%; margin-left: 6%;">
                    {{ form.date(type="text", class="form-control", id="floatingInput", placeholder="Номер") }}
                    <label for="floatingInput">ММ/ГГ</label>
                    {% for error in form.date.errors %}
                        <div class="alert alert-danger" role="alert">
                            {{ error }}
                        </div>
                    {% endfor %}
                </div>
                <div class="form-floating" style="width: 33%; margin-bottom: 7%;">
                    {{ form.cvc(type="number", class="form-control", id="floatingInput", placeholder="Номер") }}
                    <label for="floatingInput">CVC</label>
                    {% for error in form.cvc.errors %}
                        <div class="alert alert-danger" role="alert">
                            {{ error }}
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <br>
        <br>
        <p>{{ form.submit(class="btn btn-primary btn-lg fw-bold", type="submit") }}</p>
        <div>{{ message }}</div>
    </div>
</div>
</body>
</html>
